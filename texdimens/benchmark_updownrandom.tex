
\input texdimens

\input xintkernel.sty

\pdfsetrandomseed 20211107

\def\test#1#2#3#4{%
\edef\w{\pdfuniformdeviate 131072}%
\expandafter\let\expandafter\NEW\csname texdimen#3#4\endcsname
% turns out the old versions are NOT quicker...
\expandafter\let\expandafter\OLD\csname texdimen#3#4quick\endcsname
\pdfresettimer
\xintReplicate{#1}{\xintReplicate{#2}{\edef\x{\NEW{\w sp}}}}%
\edef\T{\expandafter\texdimenstrippt\the\dimexpr\pdfelapsedtime sp}%
\immediate\write128{\T s (ceil, \the\numexpr#1*#2\relax\space reps)}%
\pdfresettimer
\xintReplicate{#1}{\xintReplicate{#2}{\edef\y{\OLD{\w sp}}}}%
\edef\U{\expandafter\texdimenstrippt\the\dimexpr\pdfelapsedtime sp}%
\immediate\write128{\U s (round, \the\numexpr#1*#2\relax\space reps)}%
\immediate\write128{\U/\T\space about \texdimenwithunit{\U pt}{\T pt} for #3#4
with \w sp}%
\ifx\x\y\else\ERROR\fi
\immediate\write128{}%
}

\def\TEST{%
\test{100}{1000}{in}{up}

\test{100}{1000}{in}{down}

\test{100}{1000}{nc}{up}

\test{100}{1000}{nc}{down}

\test{100}{1000}{dd}{up}

\test{100}{1000}{dd}{down}
}

\TEST

\TEST

\TEST

\TEST

\TEST

\TEST

\bye

This run with \pdfsetrandomseed 20211108                This run with \pdfsetrandomseed 20211107
0.51141s (ceil, 100000 reps)                            0.51073s (ceil, 100000 reps)                           
0.49777s (round, 100000 reps)                           0.49063s (round, 100000 reps)                          
0.49777/0.51141 about 0.97333 for inup with 72550sp     0.49063/0.51073 about 0.96066 for inup with 11548sp    
                                                                                                               
0.51219s (ceil, 100000 reps)                            0.50488s (ceil, 100000 reps)                           
0.49922s (round, 100000 reps)                           0.49353s (round, 100000 reps)                          
0.49922/0.51219 about 0.97469 for indown with 98458sp   0.49353/0.50488 about 0.97752 for indown with 49674sp  
                                                                                                               
0.50209s (ceil, 100000 reps)                            0.50076s (ceil, 100000 reps)                           
0.64313s (round, 100000 reps)                           0.52135s (round, 100000 reps)                          
0.64313/0.50209 about 1.28091 for ncup with 54665sp     0.52135/0.50076 about 1.0411 for ncup with 29673sp     
                                                                                                               
0.49167s (ceil, 100000 reps)                            0.49521s (ceil, 100000 reps)                           
0.52083s (round, 100000 reps)                           0.64488s (round, 100000 reps)                          
0.52083/0.49167 about 1.05931 for ncdown with 19927sp   0.64488/0.49521 about 1.30225 for ncdown with 15232sp  
                                                                                                               
0.50288s (ceil, 100000 reps)                            0.50192s (ceil, 100000 reps)                           
0.5479s (round, 100000 reps)                            0.54669s (round, 100000 reps)                          
0.5479/0.50288 about 1.08952 for ddup with 61502sp      0.54669/0.50192 about 1.0892 for ddup with 62749sp     
                                                                                                               
0.49507s (ceil, 100000 reps)                            0.4964s (ceil, 100000 reps)                            
0.54735s (round, 100000 reps)                           0.54675s (round, 100000 reps)                          
0.54735/0.49507 about 1.1056 for dddown with 78439sp    0.54675/0.4964 about 1.10144 for dddown with 96129sp   
                                                                                                               
0.5256s (ceil, 100000 reps)                             0.51086s (ceil, 100000 reps)                           
0.51155s (round, 100000 reps)                           0.5187s (round, 100000 reps)                           
0.51155/0.5256 about 0.97327 for inup with 122486sp     0.5187/0.51086 about 1.01537 for inup with 56263sp     
                                                                                                               
0.50494s (ceil, 100000 reps)                            0.50618s (ceil, 100000 reps)                           
0.49396s (round, 100000 reps)                           0.49298s (round, 100000 reps)                          
0.49396/0.50494 about 0.97826 for indown with 16293sp   0.49298/0.50618 about 0.97394 for indown with 34845sp  
                                                                                                               
0.5032s (ceil, 100000 reps)                             0.50136s (ceil, 100000 reps)                           
0.52422s (round, 100000 reps)                           0.65343s (round, 100000 reps)                          
0.52422/0.5032 about 1.04176 for ncup with 90209sp      0.65343/0.50136 about 1.30333 for ncup with 89682sp    
                                                                                                               
0.49786s (ceil, 100000 reps)                            0.50044s (ceil, 100000 reps)                           
0.64177s (round, 100000 reps)                           0.52467s (round, 100000 reps)                          
0.64177/0.49786 about 1.28905 for ncdown with 90365sp   0.52467/0.50044 about 1.04843 for ncdown with 117218sp 
                                                                                                               
0.51132s (ceil, 100000 reps)                            0.50261s (ceil, 100000 reps)                           
0.56265s (round, 100000 reps)                           0.54764s (round, 100000 reps)                          
0.56265/0.51132 about 1.1004 for ddup with 120484sp     0.54764/0.50261 about 1.0896 for ddup with 59070sp     
                                                                                                               
0.49406s (ceil, 100000 reps)                            0.49678s (ceil, 100000 reps)                           
0.54553s (round, 100000 reps)                           0.5476s (round, 100000 reps)                           
0.54553/0.49406 about 1.10419 for dddown with 36220sp   0.5476/0.49678 about 1.10233 for dddown with 13086sp   
                                                                                                               
0.50645s (ceil, 100000 reps)                            0.50685s (ceil, 100000 reps)                           
0.49565s (round, 100000 reps)                           0.61246s (round, 100000 reps)                          
0.49565/0.50645 about 0.97868 for inup with 29626sp     0.61246/0.50685 about 1.20836 for inup with 19392sp    
                                                                                                               
0.49846s (ceil, 100000 reps)                            0.50618s (ceil, 100000 reps)                           
0.6137s (round, 100000 reps)                            0.61119s (round, 100000 reps)                          
0.6137/0.49846 about 1.23119 for indown with 14491sp    0.61119/0.50618 about 1.20746 for indown with 25577sp  
                                                                                                               
0.49821s (ceil, 100000 reps)                            0.49188s (ceil, 100000 reps)                           
0.64658s (round, 100000 reps)                           0.51732s (round, 100000 reps)                          
0.64658/0.49821 about 1.29779 for ncup with 18272sp     0.51732/0.49188 about 1.05173 for ncup with 64440sp    
                                                                                                               
0.49817s (ceil, 100000 reps)                            0.49544s (ceil, 100000 reps)                           
0.64441s (round, 100000 reps)                           0.5239s (round, 100000 reps)                           
0.64441/0.49817 about 1.29356 for ncdown with 32670sp   0.5239/0.49544 about 1.05745 for ncdown with 99580sp   
                                                                                                               
0.52588s (ceil, 100000 reps)                            0.50171s (ceil, 100000 reps)                           
0.56436s (round, 100000 reps)                           0.54047s (round, 100000 reps)                          
0.56436/0.52588 about 1.07318 for ddup with 126173sp    0.54047/0.50171 about 1.07726 for ddup with 34647sp    
                                                                                                               
0.49498s (ceil, 100000 reps)                            0.49686s (ceil, 100000 reps)                           
0.54546s (round, 100000 reps)                           0.54776s (round, 100000 reps)                          
0.54546/0.49498 about 1.10199 for dddown with 34317sp   0.54776/0.49686 about 1.10246 for dddown with 65112sp  
                                                                                                               
0.51274s (ceil, 100000 reps)                            0.52124s (ceil, 100000 reps)                           
0.61914s (round, 100000 reps)                           0.5046s (round, 100000 reps)                           
0.61914/0.51274 about 1.20752 for inup with 97521sp     0.5046/0.52124 about 0.96806 for inup with 121259sp    
                                                                                                               
0.51965s (ceil, 100000 reps)                            0.50584s (ceil, 100000 reps)                           
0.63316s (round, 100000 reps)                           0.61406s (round, 100000 reps)                          
0.63316/0.51965 about 1.21844 for indown with 121036sp  0.61406/0.50584 about 1.21394 for indown with 62208sp  
                                                                                                               
0.49866s (ceil, 100000 reps)                            0.50978s (ceil, 100000 reps)                           
0.52322s (round, 100000 reps)                           0.53198s (round, 100000 reps)                          
0.52322/0.49866 about 1.04927 for ncup with 49536sp     0.53198/0.50978 about 1.04356 for ncup with 100378sp   
                                                                                                               
0.50113s (ceil, 100000 reps)                            0.49551s (ceil, 100000 reps)                           
0.53148s (round, 100000 reps)                           0.52106s (round, 100000 reps)                          
0.53148/0.50113 about 1.06058 for ncdown with 121021sp  0.52106/0.49551 about 1.05156 for ncdown with 66171sp  
                                                                                                               
0.50142s (ceil, 100000 reps)                            0.50195s (ceil, 100000 reps)                           
0.54129s (round, 100000 reps)                           0.54681s (round, 100000 reps)                          
0.54129/0.50142 about 1.07953 for ddup with 84176sp     0.54681/0.50195 about 1.08939 for ddup with 90639sp    
                                                                                                               
0.49393s (ceil, 100000 reps)                            0.49808s (ceil, 100000 reps)                           
0.54842s (round, 100000 reps)                           0.54637s (round, 100000 reps)                          
0.54842/0.49393 about 1.11032 for dddown with 99776sp   0.54637/0.49808 about 1.09697 for dddown with 43931sp  
                                                                                                               
0.50615s (ceil, 100000 reps)                            0.49503s (ceil, 100000 reps)                           
0.60909s (round, 100000 reps)                           0.57819s (round, 100000 reps)                          
0.60909/0.50615 about 1.20338 for inup with 52487sp     0.57819/0.49503 about 1.168 for inup with 515sp        
                                                                                                               
0.5052s (ceil, 100000 reps)                             0.50717s (ceil, 100000 reps)                           
0.4936s (round, 100000 reps)                            0.49393s (round, 100000 reps)                          
0.4936/0.5052 about 0.97705 for indown with 34941sp     0.49393/0.50717 about 0.97389 for indown with 35789sp  
                                                                                                               
0.49203s (ceil, 100000 reps)                            0.49474s (ceil, 100000 reps)                           
0.64189s (round, 100000 reps)                           0.51747s (round, 100000 reps)                          
0.64189/0.49203 about 1.30457 for ncup with 34305sp     0.51747/0.49474 about 1.04596 for ncup with 89445sp    
                                                                                                               
0.49493s (ceil, 100000 reps)                            0.50684s (ceil, 100000 reps)                           
0.53484s (round, 100000 reps)                           0.67558s (round, 100000 reps)                          
0.53484/0.49493 about 1.08063 for ncdown with 92500sp   0.67558/0.50684 about 1.33295 for ncdown with 68100sp  
                                                                                                               
0.51079s (ceil, 100000 reps)                            0.50284s (ceil, 100000 reps)                           
0.56607s (round, 100000 reps)                           0.54726s (round, 100000 reps)                          
0.56607/0.51079 about 1.10823 for ddup with 115778sp    0.54726/0.50284 about 1.08835 for ddup with 79946sp    
                                                                                                               
0.50832s (ceil, 100000 reps)                            0.4974s (ceil, 100000 reps)                            
0.55634s (round, 100000 reps)                           0.545s (round, 100000 reps)                            
0.55634/0.50832 about 1.09448 for dddown with 102582sp  0.545/0.4974 about 1.09569 for dddown with 25339sp     
                                                                                                               
0.51163s (ceil, 100000 reps)                            0.51227s (ceil, 100000 reps)                           
0.61305s (round, 100000 reps)                           0.49318s (round, 100000 reps)                          
0.61305/0.51163 about 1.19824 for inup with 70697sp     0.49318/0.51227 about 0.96274 for inup with 11994sp    
                                                                                                               
0.5059s (ceil, 100000 reps)                             0.50786s (ceil, 100000 reps)                           
0.49324s (round, 100000 reps)                           0.61848s (round, 100000 reps)                          
0.49324/0.5059 about 0.97498 for indown with 37508sp    0.61848/0.50786 about 1.21783 for indown with 84386sp  
                                                                                                               
0.50012s (ceil, 100000 reps)                            0.50137s (ceil, 100000 reps)                           
0.64497s (round, 100000 reps)                           0.52414s (round, 100000 reps)                          
0.64497/0.50012 about 1.28964 for ncup with 69846sp     0.52414/0.50137 about 1.04541 for ncup with 24043sp    
                                                                                                               
0.4941s (ceil, 100000 reps)                             0.50012s (ceil, 100000 reps)                           
0.52345s (round, 100000 reps)                           0.52325s (round, 100000 reps)                          
0.52345/0.4941 about 1.05942 for ncdown with 36445sp    0.52325/0.50012 about 1.04626 for ncdown with 50397sp  
                                                                                                               
0.51059s (ceil, 100000 reps)                            0.50328s (ceil, 100000 reps)                           
0.56383s (round, 100000 reps)                           0.54742s (round, 100000 reps)                          
0.56383/0.51059 about 1.10428 for ddup with 107109sp    0.54742/0.50328 about 1.08772 for ddup with 21284sp    
                                                                                                               
0.51132s (ceil, 100000 reps)                            0.4977s (ceil, 100000 reps)                            
0.56229s (round, 100000 reps)                           0.66873s (round, 100000 reps)                          
0.56229/0.51132 about 1.09969 for dddown with 128211sp  0.66873/0.4977 about 1.34366 for dddown with 82028sp   











































































































































